<!DOCTYPE html>
<meta charset="UTF-8">
<html>

<head>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>

    <!-- Optional theme -->
    <link rel="stylesheet" href="http://bootswatch.com/darkly/bootstrap.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js"></script>
</head>

<body>
    <div ng-app="myApp" ng-controller="MainCtrl" ng-init="init()">

        <div class="container">

            <div class="page-header">
                <h1>Hello</h1>
            </div>
            <div class="col-md-6 bs-docs-section">
                <button class="btn btn-default" ng-click="getLocalContainers()">Click</button>
                <div ng-repeat="container in containers">
                    <form class="form-horizontal">
                        <div class="panel panel-default">
                            <div class="panel-body">
                             <div class="form-group">
                                    <label class="control-label col-md-3">Command</label>
                                    <div class="col-md-9 form-control-static">
                                        {{container.Command}}
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-3">Name</label>
                                    <div class="col-md-9 form-control-static">
                                        {{container.Names}}
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-3">Status</label>
                                    <div class="col-md-9 form-control-static">
                                        {{container.Status}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <pre>
                	
                {{containers | json}}
                </pre>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">
var app = angular.module('myApp', []);
app.config(function($httpProvider) {
    //Enable cross domain calls
    $httpProvider.defaults.useXDomain = true;

    //Remove the header used to identify ajax call  that would prevent CORS from working
    delete $httpProvider.defaults.headers.common['X-Requested-With'];
});

app.controller('MainCtrl', ['$scope', '$http',
    function($scope, $http) {
        $scope.init = function() {
            $scope.getLocalContainers();
        };

        $scope.getLocalContainers = function() {
            $http({
                    method: 'GET',
                    url: '/containers',
                    respondType: 'json' //optionnel
                }).success(function(data, status, headers, config) {
                    $scope.containers = data
                })
                .error(function(data, status, headers, config) {
                    console.log("error status : " + status);

                })
        };
    }
])
</script>

</html>
